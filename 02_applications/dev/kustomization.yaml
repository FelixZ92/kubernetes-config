bases:
  - ../base

# secrets used in PreSync hooks need to be applied here due to sync stages - otherwise we'll land in an infinite sync loop
resources:
  - secrets/argocd-oidc-secret.json
  - secrets/argocd-signing-secret-sealed.json
  - secrets/grafana-admin-user-sealed.json
  - secrets/keycloak-admin-user-sealed.json
  - secrets/keycloak-oidc-secret.json
  - secrets/monitoring-oidc-secret.json
  - secrets/monitoring-signing-secret-sealed.json
  - secrets/postgres-operator-oidc-secret.json
  - secrets/postgres-operator-signing-secret-sealed.json
  - secrets/traefik-oidc-secret.json
  - secrets/traefik-signing-secret-sealed.json

patchesStrategicMerge:
  - cert-manager-repo-path.yaml
  - prometheus-operator-env-patch.yaml
  - loki-env-patch.yaml
  - promtail-env-patch.yaml
  - certificate-authority-repo-path.yaml
  - traefik-env-patch.yaml
  - keycloak-repo-path.yaml
  - external-access-repo-path.yaml

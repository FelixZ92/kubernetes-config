resources:
  - ../base

namespace: traefik

commonAnnotations:
  annotations:
    argocd.argoproj.io/sync-wave="4"

patchesStrategicMerge:
  - ingressroute-patch-dashboard.yaml
  - certificate-patch.yaml

configMapGenerator:
  - name: forward-auth-config
    behavior: merge
    literals:
#      - MP_JWT_VERIFY_PUBLICKEY_LOCATION=http://keycloak-http.keycloak.svc/auth/realms/k8s/protocol/openid-connect/certs
      - MP_JWT_VERIFY_PUBLICKEY=eyJrZXlzIjpbeyJraWQiOiJZay0zNk80cTh6Y3pzTFNjLThHMVlJMV9hN0ZkU05zZmJYdG5BamEtZmVVIiwia3R5IjoiUlNBIiwiYWxnIjoiUlMyNTYiLCJ1c2UiOiJzaWciLCJuIjoiNl9HR0JJTHE2SWJrX0p6Rm5RSTBJX01JTHJZM3lKMjJKUy1hdmlaVklVQW5ERUtaTmxONVZQRUhfekFkRktlbDhqNUNudzY3MDVRcVFUSTJaYm5aemRBbUZCSzAzazdKWWZ0WVJUMlloamE3LTZWa0daeUg4MThJUEc1NXlSdVkxci12NmM1WmpPeDRaaThwaWp0UkY4SlZJNmNvNmtxdF9xVFkzRWJDLVdqTWYtTDV5aE9NVG1hMWRvOGJsOW1YMUt1UldPcXhkM0owTWl1QzdXS3F4Ul9Fa1k1TlYzT1pLOWZYU240MmRjb2tPcWc1dUlWVjgtRWZ1ZmZocGNycXdUSS04R0EyZ2ZzTEJyMHJlMEQ4RlB5RWlPUFJ6N2xuUFpud1FJQ1NmRDZoenpsZFhxV2lpWlYwSFZxQmxmdEduMGZoM1F2MHZHRGNCdXFFdDdSeEx3IiwiZSI6IkFRQUIiLCJ4NWMiOlsiTUlJQ2xUQ0NBWDBDQmdGMGVqQ1FrVEFOQmdrcWhraUc5dzBCQVFzRkFEQU9NUXd3Q2dZRFZRUUREQU5yT0hNd0hoY05NakF3T1RFd01qSTBNakUzV2hjTk16QXdPVEV3TWpJME16VTNXakFPTVF3d0NnWURWUVFEREFOck9ITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEcjhZWUVndXJvaHVUOG5NV2RBalFqOHdndXRqZkluYllsTDVxK0psVWhRQ2NNUXBrMlUzbFU4UWYvTUIwVXA2WHlQa0tmRHJ2VGxDcEJNalpsdWRuTjBDWVVFclRlVHNsaCsxaEZQWmlHTnJ2N3BXUVpuSWZ6WHdnOGJubkpHNWpXdjYvcHpsbU03SGhtTHltS08xRVh3bFVqcHlqcVNxMytwTmpjUnNMNWFNeC80dm5LRTR4T1pyVjJqeHVYMlpmVXE1Rlk2ckYzY25ReUs0THRZcXJGSDhTUmprMVhjNWtyMTlkS2ZqWjF5aVE2cURtNGhWWHo0Uis1OStHbHl1ckJNajd3WURhQit3c0d2U3Q3UVB3VS9JU0k0OUhQdVdjOW1mQkFnSko4UHFIUE9WMWVwYUtKbFhRZFdvR1YrMGFmUitIZEMvUzhZTndHNm9TM3RIRXZBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJYkhDL3FCUzZQZDJmcnVlZDJleU9PVTFXT0RzNjdxejZoL1Vmb2F4M094Uk1DMzJsMzluQlJkMkxyeEIvT3hZUzJSN0t5NzJpVXhKOGZOUGFRTTJlRk5kRldpbm43UnpoelhRc1cxWG5HR2VtMW9VTjBTOE9jTkpLNDVsRUVWOFFJWGJ3aWJ4ZmxxOTJiWHZIelUrUkRodWgvblc2YXlIb2c0aVo2K0I3NWxTdHVTMk5XMDg4dlZYK0tNTWhnWlZWcG9RcGgwSTRQYm9kL3Zxa2NiTHg3V3FuVTlnekVCNnhvUnExTDUvVFp4OVJ4L2EyRVpkSzRDOWlYM1RuMG1yTDlFL3cxaENFeThJSXdtNlNKRGt0ZnBmQ0VqZ0t4RDVERXlZb0xCT3ljTVdGVnNSY1hWMExwcCs3UnZ1YmhzL2lHMUZYb2F1Yk9iU25xWDJHS3ZBd1U9Il0sIng1dCI6ImZ3Sks0MldndkRidW1wZnpXeDhVYWxkLURXbyIsIng1dCNTMjU2IjoiMjJ5Rm5JN0NwYmhNaC1XZ2tieG1RdngyejRPaFoxMm1KWnRYVFdsX3pyZyJ9XX0=
      - MP_JWT_VERIFY_ISSUER=https://keycloak.192.168.0.15.xip.io/auth/realms/k8s
      - SMALLRYE_JWT_VERIFY_KEY_FORMAT=JWK

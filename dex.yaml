grpc:
  # -- Enable the gRPC endpoint.
  # Read more in the [documentation](https://dexidp.io/docs/api/).
  enabled: true

configSecret:
  # -- Enable creating a secret from the values passed to `config`.
  # If set to false, name must point to an existing secret.
  create: true

  # -- The name of the secret to mount as configuration in the pod.
  # If not set and create is true, a name is generated using the fullname template.
  # Must point to secret that contains at least a `config.yaml` key.
  name: ""

# -- Application configuration.
# See the [official documentation](https://dexidp.io/docs/).
config:
  issuer: https://dex.167.233.11.29.nip.io
  storage:
    type: kubernetes
    config:
      inCluster: true
  enablePasswordDB: true
  staticClients:
    - id: example-app
      redirectURIs:
        - 'https://dex-example.167.233.11.29.nip.io/callback'
      name: 'Example App'
      secret: ZXhhbXBsZS1hcHAtc2VjcmV0
  connectors:
    - type: gitlab
      # Required field for connector id.
      id: gitlab
      # Required field for connector name.
      name: GitLab
      config:
        # optional, default = https://gitlab.com
        baseURL: https://gitlab.com
        # Credentials can be string literals or pulled from the environment.
        clientID: 9a4d1e02192a7805c57db5c03ad85a831a66e6fd5a626e0c1b44330c60c29de6
        clientSecret: af718f2538c178f8a17f86673b65e2a477df36e13160ff580b7fb9ef5f96fbde
        redirectURI: https://dex.167.233.11.29.nip.io/callback
        # Optional groups whitelist, communicated through the "groups" scope.
        # If `groups` is omitted, all of the user's GitLab groups are returned when the groups scope is present.
        # If `groups` is provided, this acts as a whitelist - only the user's GitLab groups that are in the configured `groups` below will go into the groups claim.  Conversely, if the user is not in any of the configured `groups`, the user will not be authenticated.
        groups:
          - fzx-projects
        # flag which will switch from using the internal GitLab id to the users handle (@mention) as the user id.
        # It is possible for a user to change their own user name but it is very rare for them to do so
        useLoginAsID: false


# -- Additional environment variables passed directly to containers.
# See the [API reference](https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#environment-variables) for details.
env: { }

podSecurityContext:
  fsGroup: 2000

securityContext:
  capabilities:
    drop:
      - ALL
#  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000

volumes: []

volumeMounts: []

---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: keycloak-admin-cli-operator
  namespace: keycloak
  annotations:
    fluxcd.io/automated: "false"
spec:
  releaseName: keycloak-admin-cli-operator
  chart:
    repository: https://felixz92.gitlab.io/keycloak-admin-cli-operator
    name: keycloak-admin-cli-operator
    version: 0.1.5
  values:
    replicaCount: 1
    image:
      repository: registry.gitlab.com/felixz92/keycloak-admin-cli-operator
      pullPolicy: IfNotPresent

    keycloakAdminCredentials:
      password:
        secretName: keycloak-admin
        secretKey: password
      user: keycloak
      realm: master

    rbac:
      create: true
      pspEnabled: false
      clusterRole: true

    serviceAccount:
      create: true

    service:
      type: ClusterIP

    serviceMonitor:
      create: true

    resources: {}
      # We usually recommend not to specify default resources and to leave this as a conscious
      # choice for the user. This also increases chances charts run on environments with little
      # resources, such as Minikube. If you do want to specify resources, uncomment the following
      # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
      # limits:
      #   cpu: 100m
      #   memory: 128Mi
      # requests:
    #   cpu: 100m
    #   memory: 128Mi

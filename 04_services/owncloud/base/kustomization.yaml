resources:
  - cert.yaml
  - cronjob.yaml
  - deployment.yaml
  - ingressroute-alertmanager.yaml
  - middlewares.yaml
  - namespace.yaml
  - postgres.yaml
  - pvc.yaml
  - redis.yaml
  - service.yaml

namespace: owncloud

commonLabels:
  app.kubernetes.io/name: owncloud
  app.kubernetes.io/part-of: owncloud

commonAnnotations:
  annotations:
    argocd.argoproj.io/sync-wave="10"

configMapGenerator:
  - name: owncloud-config
    literals:
      - HTTP_PORT=8080
      - OWNCLOUD_DB_TYPE=pgsql
      - OWNCLOUD_DB_NAME=owncloud
      - OWNCLOUD_DB_HOST=owncloud-postgres
      - OWNCLOUD_ADMIN_USERNAME=cluster-admin
      - OWNCLOUD_REDIS_ENABLED=true
      - OWNCLOUD_REDIS_SEEDS=redis-owncloud:6379
      - OWNCLOUD_REDIS_FAILOVER_MODE=FAILOVER_DISTRIBUTE
      - OWNCLOUD_SKIP_CHOWN=false
      - OWNCLOUD_BACKGROUND_MODE=webcron

apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: rook-ceph-mgr
  namespace: rook-ceph
  labels:
    team: rook
    monitoring: kube-prometheus-stack
spec:
  endpoints:
  - bearerTokenSecret:
      key: ""
    interval: 5s
    path: /metrics
    port: http-metrics
  namespaceSelector:
    matchNames:
    - rook-ceph
  selector:
    matchLabels:
      app: rook-ceph-mgr
      rook_cluster: rook-ceph
---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  labels:
    prometheus: rook-prometheus
    role: alert-rules
    monitoring: kube-prometheus-stack
  name: prometheus-ceph-v15-rules
  namespace: rook-ceph
spec:
  groups:
    - name: ceph.rules
      rules:
        - expr: |
            kube_node_status_condition{condition="Ready",job="kube-state-metrics",status="true"} * on (node) group_right() max(label_replace(ceph_disk_occupation{job="rook-ceph-mgr"},"node","$1","exported_instance","(.*)")) by (node)
          record: cluster:ceph_node_down:join_kube
        - expr: |
            avg(max by(instance) (label_replace(label_replace(ceph_disk_occupation{job="rook-ceph-mgr"}, "instance", "$1", "exported_instance", "(.*)"), "device", "$1", "device", "/dev/(.*)") * on(instance, device) group_right() (irate(node_disk_read_time_seconds_total[1m]) + irate(node_disk_write_time_seconds_total[1m]) / (clamp_min(irate(node_disk_reads_completed_total[1m]), 1) + irate(node_disk_writes_completed_total[1m])))))
          record: cluster:ceph_disk_latency:join_ceph_node_disk_irate1m
    - name: telemeter.rules
      rules:
        - expr: |
            count(ceph_osd_metadata{job="rook-ceph-mgr"})
          record: job:ceph_osd_metadata:count
        - expr: |
            count(kube_persistentvolume_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)"})
          record: job:kube_pv:count
        - expr: |
            sum(ceph_pool_rd{job="rook-ceph-mgr"}+ ceph_pool_wr{job="rook-ceph-mgr"})
          record: job:ceph_pools_iops:total
        - expr: |
            sum(ceph_pool_rd_bytes{job="rook-ceph-mgr"}+ ceph_pool_wr_bytes{job="rook-ceph-mgr"})
          record: job:ceph_pools_iops_bytes:total
        - expr: |
            count(count(ceph_mon_metadata{job="rook-ceph-mgr"} or ceph_osd_metadata{job="rook-ceph-mgr"} or ceph_rgw_metadata{job="rook-ceph-mgr"} or ceph_mds_metadata{job="rook-ceph-mgr"} or ceph_mgr_metadata{job="rook-ceph-mgr"}) by(ceph_version))
          record: job:ceph_versions_running:count
    - name: ceph-mgr-status
      rules:
        - alert: CephMgrIsAbsent
          annotations:
            description: Ceph Manager has disappeared from Prometheus target discovery.
            message: Storage metrics collector service not available anymore.
            severity_level: critical
            storage_type: ceph
          expr: |
            absent(up{job="rook-ceph-mgr"} == 1)
          for: 5m
          labels:
            severity: critical
        - alert: CephMgrIsMissingReplicas
          annotations:
            description: Ceph Manager is missing replicas.
            message: Storage metrics collector service doesn't have required no of replicas.
            severity_level: warning
            storage_type: ceph
          expr: |
            sum(up{job="rook-ceph-mgr"}) < 1
          for: 5m
          labels:
            severity: warning
    - name: ceph-mds-status
      rules:
        - alert: CephMdsMissingReplicas
          annotations:
            description: Minimum required replicas for storage metadata service not available.
              Might affect the working of storage cluster.
            message: Insufficient replicas for storage metadata service.
            severity_level: warning
            storage_type: ceph
          expr: |
            sum(ceph_mds_metadata{job="rook-ceph-mgr"} == 1) < 2
          for: 5m
          labels:
            severity: warning
    - name: quorum-alert.rules
      rules:
        - alert: CephMonQuorumAtRisk
          annotations:
            description: Storage cluster quorum is low. Contact Support.
            message: Storage quorum at risk
            severity_level: error
            storage_type: ceph
          expr: |
            count(ceph_mon_quorum_status{job="rook-ceph-mgr"} == 1) <= ((count(ceph_mon_metadata{job="rook-ceph-mgr"}) % 2) + 1)
          for: 15m
          labels:
            severity: critical
        - alert: CephMonHighNumberOfLeaderChanges
          annotations:
            description: Ceph Monitor {{ $labels.ceph_daemon }} on host {{ $labels.hostname
              }} has seen {{ $value | printf "%.2f" }} leader changes per minute recently.
            message: Storage Cluster has seen many leader changes recently.
            severity_level: warning
            storage_type: ceph
          expr: |
            (ceph_mon_metadata{job="rook-ceph-mgr"} * on (ceph_daemon) group_left() (rate(ceph_mon_num_elections{job="rook-ceph-mgr"}[5m]) * 60)) > 0.95
          for: 5m
          labels:
            severity: warning
    - name: ceph-node-alert.rules
      rules:
        - alert: CephNodeDown
          annotations:
            description: Storage node {{ $labels.node }} went down. Please check the node
              immediately.
            message: Storage node {{ $labels.node }} went down
            severity_level: error
            storage_type: ceph
          expr: |
            cluster:ceph_node_down:join_kube == 0
          for: 30s
          labels:
            severity: critical
    - name: osd-alert.rules
      rules:
        - alert: CephOSDCriticallyFull
          annotations:
            description: Utilization of back-end storage device {{ $labels.ceph_daemon
              }} has crossed 85% on host {{ $labels.hostname }}. Immediately free up some
              space or expand the storage cluster or contact support.
            message: Back-end storage device is critically full.
            severity_level: error
            storage_type: ceph
          expr: |
            (ceph_osd_metadata * on (ceph_daemon) group_left() (ceph_osd_stat_bytes_used / ceph_osd_stat_bytes)) >= 0.85
          for: 40s
          labels:
            severity: critical
        - alert: CephOSDNearFull
          annotations:
            description: Utilization of back-end storage device {{ $labels.ceph_daemon
              }} has crossed 75% on host {{ $labels.hostname }}. Free up some space or
              expand the storage cluster or contact support.
            message: Back-end storage device is nearing full.
            severity_level: warning
            storage_type: ceph
          expr: |
            (ceph_osd_metadata * on (ceph_daemon) group_left() (ceph_osd_stat_bytes_used / ceph_osd_stat_bytes)) >= 0.75
          for: 40s
          labels:
            severity: warning
        - alert: CephOSDDiskNotResponding
          annotations:
            description: Disk device {{ $labels.device }} not responding, on host {{ $labels.host
              }}.
            message: Disk not responding
            severity_level: error
            storage_type: ceph
          expr: |
            label_replace((ceph_osd_in == 1 and ceph_osd_up == 0),"disk","$1","ceph_daemon","osd.(.*)") + on(ceph_daemon) group_left(host, device) label_replace(ceph_disk_occupation,"host","$1","exported_instance","(.*)")
          for: 1m
          labels:
            severity: critical
        - alert: CephOSDDiskUnavailable
          annotations:
            description: Disk device {{ $labels.device }} not accessible on host {{ $labels.host
              }}.
            message: Disk not accessible
            severity_level: error
            storage_type: ceph
          expr: |
            label_replace((ceph_osd_in == 0 and ceph_osd_up == 0),"disk","$1","ceph_daemon","osd.(.*)") + on(ceph_daemon) group_left(host, device) label_replace(ceph_disk_occupation,"host","$1","exported_instance","(.*)")
          for: 1m
          labels:
            severity: critical
        - alert: CephDataRecoveryTakingTooLong
          annotations:
            description: Data recovery has been active for too long. Contact Support.
            message: Data recovery is slow
            severity_level: warning
            storage_type: ceph
          expr: |
            ceph_pg_undersized > 0
          for: 2h
          labels:
            severity: warning
        - alert: CephPGRepairTakingTooLong
          annotations:
            description: Self heal operations taking too long. Contact Support.
            message: Self heal problems detected
            severity_level: warning
            storage_type: ceph
          expr: |
            ceph_pg_inconsistent > 0
          for: 1h
          labels:
            severity: warning
    - name: persistent-volume-alert.rules
      rules:
        - alert: PersistentVolumeUsageNearFull
          annotations:
            description: PVC {{ $labels.persistentvolumeclaim }} utilization has crossed
              75%. Free up some space or expand the PVC.
            message: PVC {{ $labels.persistentvolumeclaim }} is nearing full. Data deletion
              or PVC expansion is required.
            severity_level: warning
            storage_type: ceph
          expr: |
            (kubelet_volume_stats_used_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)"})) / (kubelet_volume_stats_capacity_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)"})) > 0.75
          for: 5s
          labels:
            severity: warning
        - alert: PersistentVolumeUsageCritical
          annotations:
            description: PVC {{ $labels.persistentvolumeclaim }} utilization has crossed
              85%. Free up some space or expand the PVC immediately.
            message: PVC {{ $labels.persistentvolumeclaim }} is critically full. Data
              deletion or PVC expansion is required.
            severity_level: error
            storage_type: ceph
          expr: |
            (kubelet_volume_stats_used_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)"})) / (kubelet_volume_stats_capacity_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)"})) > 0.85
          for: 5s
          labels:
            severity: critical
    - name: cluster-state-alert.rules
      rules:
        - alert: CephClusterErrorState
          annotations:
            description: Storage cluster is in error state for more than 10m.
            message: Storage cluster is in error state
            severity_level: error
            storage_type: ceph
          expr: |
            ceph_health_status{job="rook-ceph-mgr"} > 1
          for: 10m
          labels:
            severity: critical
        - alert: CephClusterWarningState
          annotations:
            description: Storage cluster is in warning state for more than 10m.
            message: Storage cluster is in degraded state
            severity_level: warning
            storage_type: ceph
          expr: |
            ceph_health_status{job="rook-ceph-mgr"} == 1
          for: 10m
          labels:
            severity: warning
        - alert: CephOSDVersionMismatch
          annotations:
            description: There are {{ $value }} different versions of Ceph OSD components
              running.
            message: There are multiple versions of storage services running.
            severity_level: warning
            storage_type: ceph
          expr: |
            count(count(ceph_osd_metadata{job="rook-ceph-mgr"}) by (ceph_version)) > 1
          for: 10m
          labels:
            severity: warning
        - alert: CephMonVersionMismatch
          annotations:
            description: There are {{ $value }} different versions of Ceph Mon components
              running.
            message: There are multiple versions of storage services running.
            severity_level: warning
            storage_type: ceph
          expr: |
            count(count(ceph_mon_metadata{job="rook-ceph-mgr"}) by (ceph_version)) > 1
          for: 10m
          labels:
            severity: warning
    - name: cluster-utilization-alert.rules
      rules:
        - alert: CephClusterNearFull
          annotations:
            description: Storage cluster utilization has crossed 75% and will become read-only
              at 85%. Free up some space or expand the storage cluster.
            message: Storage cluster is nearing full. Data deletion or cluster expansion
              is required.
            severity_level: warning
            storage_type: ceph
          expr: |
            ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes > 0.75
          for: 5s
          labels:
            severity: warning
        - alert: CephClusterCriticallyFull
          annotations:
            description: Storage cluster utilization has crossed 80% and will become read-only
              at 85%. Free up some space or expand the storage cluster immediately.
            message: Storage cluster is critically full and needs immediate data deletion
              or cluster expansion.
            severity_level: error
            storage_type: ceph
          expr: |
            ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes > 0.80
          for: 5s
          labels:
            severity: critical
        - alert: CephClusterReadOnly
          annotations:
            description: Storage cluster utilization has crossed 85% and will become read-only
              now. Free up some space or expand the storage cluster immediately.
            message: Storage cluster is read-only now and needs immediate data deletion
              or cluster expansion.
            severity_level: error
            storage_type: ceph
          expr: |
            ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes >= 0.85
          for: 0s
          labels:
            severity: critical
---
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: loki-reads-dashboard
  labels:
    grafana_dashboard: "1"
data:
  loki-reads-dashboard.json: |-
    {
       "annotations": {
          "list": [ ]
       },
       "editable": true,
       "gnetId": null,
       "graphTooltip": 0,
       "hideControls": false,
       "links": [ ],
       "refresh": "10s",
       "rows": [
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 1,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(loki_request_duration_seconds_count{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 2,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "1e3 * sum(job_route:loki_request_duration_seconds_sum:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route)  / sum(job_route:loki_request_duration_seconds_count:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route) ",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "Frontend (cortex_gw)",
             "titleSize": "h6"
          },
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 3,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(loki_request_duration_seconds_count{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 4,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "1e3 * sum(job_route:loki_request_duration_seconds_sum:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route)  / sum(job_route:loki_request_duration_seconds_count:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route) ",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "Frontend (query-frontend)",
             "titleSize": "h6"
          },
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 5,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(loki_request_duration_seconds_count{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 6,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "1e3 * sum(job_route:loki_request_duration_seconds_sum:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route)  / sum(job_route:loki_request_duration_seconds_count:sum_rate{job=~\"loki-headless\", route=~\"loki_api_v1_series|api_prom_series|api_prom_query|api_prom_label|api_prom_label_name_values|loki_api_v1_query|loki_api_v1_query_range|loki_api_v1_labels|loki_api_v1_label_name_values\"}) by (route) ",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "Querier",
             "titleSize": "h6"
          },
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 7,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(loki_request_duration_seconds_count{job=~\"loki-headless\", route=~\"/logproto.Querier/Query|/logproto.Querier/Label|/logproto.Querier/Series\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 8,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"/logproto.Querier/Query|/logproto.Querier/Label|/logproto.Querier/Series\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum by (le,route) (job_route:loki_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", route=~\"/logproto.Querier/Query|/logproto.Querier/Label|/logproto.Querier/Series\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} 50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "1e3 * sum(job_route:loki_request_duration_seconds_sum:sum_rate{job=~\"loki-headless\", route=~\"/logproto.Querier/Query|/logproto.Querier/Label|/logproto.Querier/Series\"}) by (route)  / sum(job_route:loki_request_duration_seconds_count:sum_rate{job=~\"loki-headless\", route=~\"/logproto.Querier/Query|/logproto.Querier/Label|/logproto.Querier/Series\"}) by (route) ",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{ route }} Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "Ingester",
             "titleSize": "h6"
          },
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 9,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(cortex_bigtable_request_duration_seconds_count{job=~\"loki-headless\", operation=\"/google.bigtable.v2.Bigtable/ReadRows\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 10,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum by (le) (job_operation:cortex_bigtable_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", operation=\"/google.bigtable.v2.Bigtable/ReadRows\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum by (le) (job_operation:cortex_bigtable_request_duration_seconds_bucket:sum_rate{job=~\"loki-headless\", operation=\"/google.bigtable.v2.Bigtable/ReadRows\"})) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "1e3 * sum(job_operation:cortex_bigtable_request_duration_seconds_sum:sum_rate{job=~\"loki-headless\", operation=\"/google.bigtable.v2.Bigtable/ReadRows\"}) / sum(job_operation:cortex_bigtable_request_duration_seconds_count:sum_rate{job=~\"loki-headless\", operation=\"/google.bigtable.v2.Bigtable/ReadRows\"})",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "BigTable",
             "titleSize": "h6"
          },
          {
             "collapse": false,
             "height": "250px",
             "panels": [
                {
                   "aliasColors": {
                      "1xx": "#EAB839",
                      "2xx": "#7EB26D",
                      "3xx": "#6ED0E0",
                      "4xx": "#EF843C",
                      "5xx": "#E24D42",
                      "error": "#E24D42",
                      "success": "#7EB26D"
                   },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 10,
                   "id": 11,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 0,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": true,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "sum by (status) (label_replace(label_replace(rate(loki_boltdb_shipper_request_duration_seconds_count{job=~\"loki-headless\", operation=\"QUERY\"}[$__interval]), \"status\", \"${1}xx\", \"status_code\", \"([0-9])..\"), \"status\", \"${1}\",   \"status_code\", \"([a-z]+)\"))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "{{status}}",
                         "refId": "A",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "QPS",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                },
                {
                   "aliasColors": { },
                   "bars": false,
                   "dashLength": 10,
                   "dashes": false,
                   "datasource": "$datasource",
                   "fill": 1,
                   "id": 12,
                   "legend": {
                      "avg": false,
                      "current": false,
                      "max": false,
                      "min": false,
                      "show": true,
                      "total": false,
                      "values": false
                   },
                   "lines": true,
                   "linewidth": 1,
                   "links": [ ],
                   "nullPointMode": "null as zero",
                   "percentage": false,
                   "pointradius": 5,
                   "points": false,
                   "renderer": "flot",
                   "seriesOverrides": [ ],
                   "spaceLength": 10,
                   "span": 6,
                   "stack": false,
                   "steppedLine": false,
                   "targets": [
                      {
                         "expr": "histogram_quantile(0.99, sum(rate(loki_boltdb_shipper_request_duration_seconds_bucket{job=~\"loki-headless\", operation=\"QUERY\"}[$__interval])) by (le)) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "99th Percentile",
                         "refId": "A",
                         "step": 10
                      },
                      {
                         "expr": "histogram_quantile(0.50, sum(rate(loki_boltdb_shipper_request_duration_seconds_bucket{job=~\"loki-headless\", operation=\"QUERY\"}[$__interval])) by (le)) * 1e3",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "50th Percentile",
                         "refId": "B",
                         "step": 10
                      },
                      {
                         "expr": "sum(rate(loki_boltdb_shipper_request_duration_seconds_sum{job=~\"loki-headless\", operation=\"QUERY\"}[$__interval])) * 1e3 / sum(rate(loki_boltdb_shipper_request_duration_seconds_count{job=~\"loki-headless\", operation=\"QUERY\"}[$__interval]))",
                         "format": "time_series",
                         "intervalFactor": 2,
                         "legendFormat": "Average",
                         "refId": "C",
                         "step": 10
                      }
                   ],
                   "thresholds": [ ],
                   "timeFrom": null,
                   "timeShift": null,
                   "title": "Latency",
                   "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                   },
                   "type": "graph",
                   "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                   },
                   "yaxes": [
                      {
                         "format": "ms",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": 0,
                         "show": true
                      },
                      {
                         "format": "short",
                         "label": null,
                         "logBase": 1,
                         "max": null,
                         "min": null,
                         "show": false
                      }
                   ]
                }
             ],
             "repeat": null,
             "repeatIteration": null,
             "repeatRowId": null,
             "showTitle": true,
             "title": "BoltDB Shipper",
             "titleSize": "h6"
          }
       ],
       "schemaVersion": 14,
       "style": "dark",
       "tags": [ ],
       "templating": {
          "list": [
             {
                "current": {
                   "text": "default",
                   "value": "default"
                },
                "hide": 0,
                "label": null,
                "name": "datasource",
                "options": [ ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
             },
             {
                "allValue": null,
                "current": { },
                "datasource": "$datasource",
                "hide": 0,
                "includeAll": false,
                "label": "namespace",
                "multi": false,
                "name": "namespace",
                "options": [ ],
                "query": "label_values(kube_pod_container_info{image=~\".*loki.*\"}, namespace)",
                "refresh": 1,
                "regex": "",
                "sort": 2,
                "tagValuesQuery": "",
                "tags": [ ],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
             }
          ]
       },
       "time": {
          "from": "now-1h",
          "to": "now"
       },
       "timepicker": {
          "refresh_intervals": [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options": [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone": "utc",
       "title": "Loki / Reads",
       "uid": "",
       "version": 0
    }
